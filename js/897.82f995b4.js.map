{"version":3,"file":"js/897.82f995b4.js","mappings":"kLACOA,MAAM,e,SACiBA,MAAM,qD,0CADlCC,EAAAA,EAAAA,IAQM,MARN,EAQM,CAPQC,EAAAA,cAAZ,iBAAYA,EAAAA,EAAAA,OAAZD,EAAAA,EAAAA,IAEM,MAFN,EAEM,EADJE,EAAAA,EAAAA,GAAoF,KAAhFC,QAAK,eAAEC,EAAAA,QAAQC,IAAE,IAAMN,MAAM,qDAEnCG,EAAAA,EAAAA,GAGM,OAHDH,OAAK,SAAC,qDACAE,EAAAA,aAAY,+BADvB,EAEEC,EAAAA,EAAAA,GAAsE,MAAjEH,OAAK,QAAGE,EAAAA,aAAY,wBAAzB,QAAuDA,EAAAA,SAAO,IAFhE,KAOJ,OACEK,MAAO,CACLC,QAASC,OACTC,aAAc,CACZC,KAAMC,QACNC,SAAS,IAGbC,OACE,MAAO,IAGTC,QAAS,GAETC,a,UCnBF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,mKCROlB,MAAM,8B,GACJA,MAAM,sB,GAKJA,MAAM,wB,GAUNA,MAAM,qB,GACJA,MAAM,a,GAEFA,MAAM,2B,GACJA,MAAM,oB,mBAEGmB,IAAI,6CAA6CC,IAAI,I,GAE5DpB,MAAM,wB,WAAuB,W,SAEfA,MAAM,mCAAmCqB,KAAK,U,GAIhErB,MAAM,Q,UACTG,EAAAA,EAAAA,GAAoE,SAA7DH,MAAM,kCAAkCsB,IAAI,QAAO,MAAE,K,GAGvDtB,MAAM,yB,GAIRA,MAAM,Q,UACTG,EAAAA,EAAAA,GAAyE,SAAlEH,MAAM,mDAAkD,MAAE,K,UAEjEG,EAAAA,EAAAA,GAAyE,SAAlEH,MAAM,uCAAuCsB,IAAI,QAAO,MAAE,K,UAEjEnB,EAAAA,EAAAA,GAA2E,SAApEH,MAAM,uCAAuCsB,IAAI,UAAS,MAAE,K,UAEnEnB,EAAAA,EAAAA,GAA0E,SAAnEH,MAAM,uCAAuCsB,IAAI,SAAQ,MAAE,K,GAE/DtB,MAAM,Q,UACTG,EAAAA,EAAAA,GAAoD,SAA7CH,MAAM,8BAA6B,MAAE,K,UAE5CG,EAAAA,EAAAA,GAAyE,SAAlEH,MAAM,uCAAuCsB,IAAI,MAAK,QAAI,K,UAEjEnB,EAAAA,EAAAA,GAA2E,SAApEH,MAAM,uCAAuCsB,IAAI,QAAO,QAAI,K,GAEhEtB,MAAM,oD,0BACuF,U,SAE3EA,MAAM,mCAAmCqB,KAAK,U,GAKhErB,MAAM,Q,UACTG,EAAAA,EAAAA,GAA2E,SAApEH,MAAM,kCAAkCsB,IAAI,YAAW,SAAK,K,GAG9DtB,MAAM,yB,GAIRA,MAAM,Q,UACTG,EAAAA,EAAAA,GAAoF,SAA7EH,MAAM,kCAAkCsB,IAAI,mBAAkB,WAAO,K,GAGvEtB,MAAM,yB,GAIRA,MAAM,oD,0BACwF,U,SAE5EA,MAAM,mCAAmCqB,KAAK,U,sEAjF/EpB,EAAAA,EAAAA,IAwFM,MAxFN,EAwFM,EAvFJE,EAAAA,EAAAA,GAsFM,MAtFN,EAsFM,EArFJoB,EAAAA,EAAAA,IAGUC,EAAA,CAFPhB,QAAS,YAGZL,EAAAA,EAAAA,GASM,MATN,EASM,EARJA,EAAAA,EAAAA,GAGS,UAHAH,OAAK,SAAW,SAATyB,EAAAA,UAAS,YAAoC,mBAC1DrB,QAAK,eAAEsB,EAAAA,WAAU,UAAW,SAE/B,IACAvB,EAAAA,EAAAA,GAGS,UAHAH,OAAK,SAAW,aAATyB,EAAAA,UAAS,YAAuC,wBAC7DrB,QAAK,eAAEsB,EAAAA,WAAU,cAAc,SAElC,MAEFvB,EAAAA,EAAAA,GAsEM,MAtEN,EAsEM,EArEJA,EAAAA,EAAAA,GAoEM,MApEN,EAoEM,CAnEqB,SAATsB,EAAAA,YAAS,WAAzBxB,EAAAA,EAAAA,IA0CW0B,EAAAA,GAAA,CAAAC,IAAAA,GAAA,EAzCTzB,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFOsB,EAAAA,SAASI,QAAAA,EAAAA,EAAAA,OAApB5B,EAAAA,EAAAA,IAA4E,O,MAAhDkB,IAAKM,EAAAA,QAAUA,EAAAA,QAAUA,EAAAA,SAASI,MAAOT,IAAI,IAAzE,wBACAnB,EAAAA,EAAAA,IAAoE,MAApE,OAEFE,EAAAA,EAAAA,GAIQ,QAJR,EAIQ,GAFKsB,EAAAA,SAAAA,EAAAA,EAAAA,OAAXxB,EAAAA,EAAAA,IAAgF,MAAhF,oBACcwB,EAAAA,QAAd,iBAAcA,EAAAA,EAAAA,OAAdxB,EAAAA,EAAAA,IAAsE,S,MAAhD6B,IAAI,YAAYnB,KAAK,OAAQoB,QAAK,oBAAEL,EAAAA,YAAAA,EAAAA,cAAAA,KAA1D,gBAGJvB,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJ6B,GAMI,SALJ7B,EAAAA,EAAAA,GAC2F,SADpFQ,KAAK,OAAOX,OAAK,SAAC,oBACiCyB,EAAAA,MAAMQ,KAAI,kBADvBC,GAAG,OAAOC,YAAY,OAAO,aAAW,OAAO,mBAAiB,gB,qCAClGV,EAAAA,SAASQ,KAAIG,GAAGL,QAAK,eAAEL,EAAAA,iBADlC,gBACWD,EAAAA,SAASQ,SACpB9B,EAAAA,EAAAA,GAEM,MAFN,GAEMkC,EAAAA,EAAAA,IADDZ,EAAAA,aAAaQ,MAAI,MAGxB9B,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJmC,GAOI,SANJnC,EAAAA,EAAAA,GAA0F,SAAnFH,MAAM,OAAOkC,GAAG,OAAOvB,KAAK,QAAQsB,KAAK,MAAMM,MAAM,O,qCAAgBd,EAAAA,SAASe,IAAGJ,IAAxF,iBAA4EX,EAAAA,SAASe,OACrFC,GAKI,SAJJtC,EAAAA,EAAAA,GAA8F,SAAvFH,MAAM,OAAOkC,GAAG,SAASvB,KAAK,QAAQsB,KAAK,MAAMM,MAAM,S,qCAAkBd,EAAAA,SAASe,IAAGJ,IAA5F,iBAAgFX,EAAAA,SAASe,OACzFE,GAGI,SAFJvC,EAAAA,EAAAA,GAA4F,SAArFH,MAAM,OAAOkC,GAAG,QAAQvB,KAAK,QAAQsB,KAAK,MAAMM,MAAM,Q,qCAAiBd,EAAAA,SAASe,IAAGJ,IAA1F,iBAA8EX,EAAAA,SAASe,OACvFG,KAEFxC,EAAAA,EAAAA,GAMM,MANN,EAMM,CALJyC,GAKI,SAJJzC,EAAAA,EAAAA,GAAuF,SAAhFH,MAAM,OAAOkC,GAAG,KAAKvB,KAAK,QAAQsB,KAAK,OAAOM,MAAM,I,qCAAad,EAAAA,SAASoB,KAAIT,IAArF,iBAAwEX,EAAAA,SAASoB,QACjFC,GAGI,SAFJ3C,EAAAA,EAAAA,GAAwF,SAAjFH,MAAM,OAAOkC,GAAG,OAAOvB,KAAK,QAAQsB,KAAK,OAAOM,MAAM,G,qCAAYd,EAAAA,SAASoB,KAAIT,IAAtF,iBAAyEX,EAAAA,SAASoB,QAClFE,KAEF5C,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGS,UAHC6C,SAAUvB,EAAAA,OAAQzB,MAAM,qCAAsCI,QAAK,iBAAEsB,EAAAA,kBAA/E,GAEaD,EAAAA,SAAAA,EAAAA,EAAAA,OAAXxB,EAAAA,EAAAA,IAAgF,MAAhF,qBAFF,QArCJ,kBA2CAA,EAAAA,EAAAA,IAuBW0B,EAAAA,GAAA,CAAAC,IAAAA,GAAA,EAtBTzB,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJ8C,GAMI,SALJ9C,EAAAA,EAAAA,GACuG,SADhGQ,KAAK,WAAWX,OAAK,SAAC,oBACqCyB,EAAAA,MAAMyB,SAAQ,kBAD/BhB,GAAG,WAAWC,YAAY,OAAO,aAAW,OAAO,mBAAiB,gB,uCAC1GV,EAAAA,SAASyB,SAAQd,GAAGL,QAAK,iBAAEL,EAAAA,cAAY,KADlD,gBACWD,EAAAA,SAASyB,aACpB/C,EAAAA,EAAAA,GAEM,MAFN,GAEMkC,EAAAA,EAAAA,IADDZ,EAAAA,aAAayB,UAAQ,MAG5B/C,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJgD,GAMI,SALJhD,EAAAA,EAAAA,GACqJ,SAD9IQ,KAAK,WAAWX,OAAK,SAAC,oBAC4EyB,EAAAA,MAAM2B,gBAAe,kBAD7ElB,GAAG,kBAAkBC,YAAY,UAAU,aAAW,UAAU,mBAAiB,gB,uCACvHV,EAAAA,SAAS2B,gBAAehB,GAAGL,QAAK,iBAAEL,EAAAA,cAAY,IAAS2B,QAAK,2BAAQ3B,EAAAA,kBAAc,aAD7F,gBACWD,EAAAA,SAAS2B,oBACpBjD,EAAAA,EAAAA,GAEM,MAFN,GAEMkC,EAAAA,EAAAA,IADDZ,EAAAA,aAAa2B,iBAAe,MAGnCjD,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGS,UAHC6C,SAAUvB,EAAAA,OAAQzB,MAAM,qCAAsCI,QAAK,iBAAEsB,EAAAA,mBAA/E,GAEaD,EAAAA,SAAAA,EAAAA,EAAAA,OAAXxB,EAAAA,EAAAA,IAAgF,MAAhF,qBAFF,QAlBJ,a,cAgCV,GACEqD,WAAY,CACVC,QAAAA,EAAAA,GAEFzC,OACE,MAAO,CACL0C,QAAQ,EACRC,UAAW,OACXC,QAAS,KACTC,SAAU,CACR1B,KAAM2B,KAAKC,OAAOC,MAAMC,SAAS9B,KACjCO,IAAKoB,KAAKC,OAAOC,MAAMC,SAASvB,KAAO,OACvCX,MAAO+B,KAAKC,OAAOC,MAAMC,SAASlC,MAClCqB,SAAU,GACVE,gBAAiB,GACjBP,KAAMe,KAAKC,OAAOC,MAAMC,SAASlB,MAAQ,IAE3CmB,aAAc,CACZ/B,KAAM,KACNgC,SAAU,KACVb,gBAAiB,KACjBc,YAAa,MAEfJ,MAAO,CACL7B,KAAM,KACNO,IAAK,KACLX,MAAO,KACPqB,SAAU,KACVE,gBAAiB,QAIvBrC,QAAS,CACPoD,iBACE,IAAKP,KAAKQ,eAAgB,OAC1BR,KAAKJ,QAAS,EACd,MAAM1C,EAAO8C,KAAKD,SAClBC,KAAKS,MAAMC,KAAM,4DAAiDxD,GAC/DyD,MAAK,KACJX,KAAKY,cACLZ,KAAKD,SAAW,CACd1B,KAAM2B,KAAKC,OAAOC,MAAMC,SAAS9B,KACjCO,IAAKoB,KAAKC,OAAOC,MAAMC,SAASvB,IAChCX,MAAO+B,KAAKC,OAAOC,MAAMC,SAASlC,MAClCqB,SAAU,GACVE,gBAAiB,GACjBP,KAAM,IAERe,KAAKJ,QAAS,EACdiB,MAAM,WAEPC,OAAOC,IACNf,KAAKJ,QAAS,EACdiB,MAAM,YAGZG,gBACE,IAAKhB,KAAKQ,eAAgB,OAC1BR,KAAKJ,QAAS,EACd,MAAM1C,EAAO8C,KAAKD,SAClBC,KAAKS,MAAMQ,MAAO,2DAAgD/D,GAC/DyD,MAAK,KACJX,KAAKY,cACLZ,KAAKD,SAAST,SAAW,GACzBU,KAAKD,SAASP,gBAAkB,GAChCQ,KAAKJ,QAAS,KAEfkB,OAAM,KACLd,KAAKJ,QAAS,EACdiB,MAAM,YAGZD,cACEZ,KAAKS,MAAMS,IAAK,sDACbP,MAAMQ,IACLnB,KAAKC,OAAOmB,OAAO,cAAeD,EAASjE,KAAKA,KAAKmE,SAEtDP,OAAM,KACLD,MAAM,oBAGZS,WAAYC,GACVvB,KAAKH,UAAY0B,GAEnBC,aAEE,GADAxB,KAAKJ,QAAS,EAC6B,eAAvCI,KAAKyB,MAAMC,UAAUC,MAAM,GAAG5E,MAAgE,cAAvCiD,KAAKyB,MAAMC,UAAUC,MAAM,GAAG5E,KAGvF,OAFA8D,MAAM,6BACNb,KAAKJ,QAAS,GAGhB,MAAMgC,EAAW,IAAIC,SACrBD,EAASE,OAAO,iBAAkB9B,KAAKyB,MAAMC,UAAUC,MAAM,IAC7D3B,KAAKS,MAAMC,KAAM,8CAAmCkB,GACjDjB,MAAMQ,IACLnB,KAAKF,QAAUqB,EAASjE,KAAK6E,OAC7B/B,KAAKD,SAAS9B,MAAQkD,EAASjE,KAAK6E,OACpC/B,KAAKgB,gBACLhB,KAAKJ,QAAS,KAEfkB,OAAM,KACLD,MAAM,YAGZL,aAAcwB,GAGZ,MAAMC,EAAiB,yCACjBC,EAAQ,GAEd,IAAK,MAAMC,KAAKnC,KAAKE,MACnBF,KAAKE,MAAMiC,IAAK,EAiBlB,OAfInC,KAAKD,SAAS1B,KAAK+D,OAAS,IAC9BpC,KAAKE,MAAM7B,MAAO,EAClB2B,KAAKI,aAAa/B,KAAO,eACzB6D,EAAMG,KAAK,UAERJ,EAAeK,KAAKtC,KAAKD,SAAST,WAAa0C,IAClDhC,KAAKI,aAAad,SAAW,oBAC7BU,KAAKE,MAAMZ,UAAW,EACtB4C,EAAMG,KAAK,gBAERrC,KAAKD,SAASP,kBAAoBQ,KAAKD,SAAST,UAAaU,KAAKD,SAASP,kBAAoBwC,IAClGhC,KAAKI,aAAaZ,gBAAkB,QACpCQ,KAAKE,MAAMV,iBAAkB,EAC7B0C,EAAMG,KAAK,oBAEW,IAAjBH,EAAME,SAGjBhF,a,UC1NF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://TrendBook/./src/components/TagView.vue","webpack://TrendBook/./src/components/TagView.vue?1f67","webpack://TrendBook/./src/views/UserView.vue","webpack://TrendBook/./src/views/UserView.vue?d745"],"sourcesContent":["<template>\n  <div class=\"d-flex mb-3\">\n    <div v-if=\"!isSinglePost\" class=\"tag-block d-flex align-items-center me-3 bg-light\">\n      <i @click=\"$router.go(-1)\" class=\"bi bi-arrow-left-square icons-item ms-3 me-3\"></i>\n    </div>\n    <div class=\"tag-block d-flex align-items-center w-100 bg-light\"\n      :class=\" isSinglePost ? 'justify-content-center' : ''\">\n      <h2 :class=\" isSinglePost ? 'text-center' : 'ps-3'\">{{ tagText }}</h2>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    tagText: String,\n    isSinglePost: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tag-block {\n  height: 64px;\n  border-radius: 8px;\n  h2 {\n    font: normal normal bold 20px/24px Azeret Mono;\n  }\n}\n.icons-item {\n  font-size: 2rem;\n  color: #7952b3;\n}\n.icons-item:hover {\n  opacity: .5;\n  cursor: pointer;\n}\n</style>\n","import { render } from \"./TagView.vue?vue&type=template&id=39ef2338&scoped=true\"\nimport script from \"./TagView.vue?vue&type=script&lang=js\"\nexport * from \"./TagView.vue?vue&type=script&lang=js\"\n\nimport \"./TagView.vue?vue&type=style&index=0&id=39ef2338&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\2022 node 直播班\\\\TrendBook\\\\TrendBook\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39ef2338\"]])\n\nexport default __exports__","<template>\n  <div class=\"row justify-content-center\">\n    <div class=\"col-xl-8 col-md-12\">\n      <TagView\n        :tagText=\"'修改個人資料'\"\n      >\n      </TagView>\n      <div class=\"row-button px-3 mt-4\">\n        <button :class=\"tabsState === 'name' ? 'active' : '' \" class=\"px-4 pt-2 pb-2\"\n          @click=\"changeTabs('name')\" >\n          暱稱修改\n        </button>\n        <button :class=\"tabsState === 'password' ? 'active' : ''\" class=\"px-4 pt-2 pb-2 ms-2\"\n          @click=\"changeTabs('password')\">\n          重設密碼\n        </button>\n      </div>\n      <div class=\"card bg-light p-4\">\n        <div class=\"ms-5 me-5\">\n          <template v-if=\"tabsState === 'name'\">\n            <div class=\"input-icon mt-3 mx-auto\">\n              <div class=\"user-img mx-auto\">\n                <img v-if=\"fromData.image\" :src=\"userUrl ? userUrl : fromData.image\" alt=\"\">\n                <img v-else src=\"https://upload.cc/i1/2022/05/31/dVpHNT.png\" alt=\"\">\n              </div>\n              <label class=\"user-icon-label mt-3\">\n                上傳大頭貼\n                <div v-if=\"isLoad\" class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\n                <input v-if=\"!isLoad\" ref=\"fileInput\" type=\"file\" @input=\"fileReader\">\n              </label>\n            </div>\n            <div class=\"mt-2\">\n              <label class=\"form-label font-customize-style\" for=\"name\">暱稱</label>\n              <input type=\"text\" class=\"form-control mt-1\" id=\"name\" placeholder=\"輸入暱稱\" aria-label=\"輸入暱稱\" aria-describedby=\"button-addon2\"\n                v-model=\"fromData.name\" @input=\"formatVerify()\" :class=\"state.name ? 'is-invalid' : '' \">\n              <div class=\"invalid-feedback mt-2\">\n                {{ errorMessage.name }}\n              </div>\n            </div>\n            <div class=\"mt-3\">\n              <label class=\"form-label user-radio font-customize-style mb-1\">性別</label>\n              <input class=\"me-2\" id=\"male\" type=\"radio\" name=\"sex\" value=\"male\" v-model=\"fromData.sex\">\n              <label class=\"form-label font-customize-style me-3\" for=\"male\">男性</label>\n              <input class=\"me-2\" id=\"female\" type=\"radio\" name=\"sex\" value=\"female\" v-model=\"fromData.sex\">\n              <label class=\"form-label font-customize-style me-3\" for=\"female\">女性</label>\n              <input class=\"me-2\" id=\"other\" type=\"radio\" name=\"sex\" value=\"other\" v-model=\"fromData.sex\">\n              <label class=\"form-label font-customize-style me-3\" for=\"other\">其他</label>\n            </div>\n            <div class=\"mt-3\">\n              <label class=\"form-label user-radio mb-1\">權限</label>\n              <input class=\"me-2\" id=\"GM\" type=\"radio\" name=\"auth\" value=\"1\" v-model=\"fromData.auth\">\n              <label class=\"form-label font-customize-style me-3\" for=\"GM\">最高權限</label>\n              <input class=\"me-2\" id=\"user\" type=\"radio\" name=\"auth\" value=\"\" v-model=\"fromData.auth\">\n              <label class=\"form-label font-customize-style me-3\" for=\"user\">訪客權限</label>\n            </div>\n            <div class=\"d-flex align-items-center justify-content-center\">\n              <button  :disabled=\"isLoad\" class=\"btn btn-primary btn-customize mt-4\" @click=\"patchUserData()\">\n                更改資料\n                <div v-if=\"isLoad\" class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\n              </button>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"mt-2\">\n              <label class=\"form-label font-customize-style\" for=\"password\">輸入新密碼</label>\n              <input type=\"password\" class=\"form-control mt-1\" id=\"password\" placeholder=\"輸入密碼\" aria-label=\"輸入密碼\" aria-describedby=\"button-addon2\"\n                v-model=\"fromData.password\" @input=\"formatVerify(true)\" :class=\"state.password ? 'is-invalid' : '' \">\n              <div class=\"invalid-feedback mt-2\">\n                {{ errorMessage.password }}\n              </div>\n            </div>\n            <div class=\"mt-2\">\n              <label class=\"form-label font-customize-style\" for=\"confirmPassword\">再次輸入新密碼</label>\n              <input type=\"password\" class=\"form-control mt-1\" id=\"confirmPassword\" placeholder=\"再次輸入新密碼\" aria-label=\"再次輸入新密碼\" aria-describedby=\"button-addon2\"\n                v-model=\"fromData.confirmPassword\" @input=\"formatVerify(true)\" @keyup.enter=\"changePassword()\" :class=\"state.confirmPassword ? 'is-invalid' : '' \">\n              <div class=\"invalid-feedback mt-2\">\n                {{ errorMessage.confirmPassword }}\n              </div>\n            </div>\n            <div class=\"d-flex align-items-center justify-content-center\">\n              <button  :disabled=\"isLoad\" class=\"btn btn-primary btn-customize mt-4\" @click=\"changePassword()\">\n                更改暱稱\n                <div v-if=\"isLoad\" class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\n              </button>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport TagView from '../components/TagView.vue'\n\nexport default {\n  components: {\n    TagView\n  },\n  data () {\n    return {\n      isLoad: false,\n      tabsState: 'name', // name or passwoed\n      userUrl: null,\n      fromData: {\n        name: this.$store.state.userInfo.name,\n        sex: this.$store.state.userInfo.sex || 'male',\n        image: this.$store.state.userInfo.image,\n        password: '',\n        confirmPassword: '',\n        auth: this.$store.state.userInfo.auth || ''\n      },\n      errorMessage: {\n        name: null,\n        passWord: null,\n        confirmPassword: null,\n        changeError: null\n      },\n      state: {\n        name: null,\n        sex: null,\n        image: null,\n        password: null,\n        confirmPassword: null\n      }\n    }\n  },\n  methods: {\n    changePassword () {\n      if (!this.formatVerify()) return\n      this.isLoad = true\n      const data = this.fromData\n      this.axios.post(`${process.env.VUE_APP_API}users/updatePassword`, data)\n        .then(() => {\n          this.getUserData()\n          this.fromData = {\n            name: this.$store.state.userInfo.name,\n            sex: this.$store.state.userInfo.sex,\n            image: this.$store.state.userInfo.image,\n            password: '',\n            confirmPassword: '',\n            auth: ''\n          }\n          this.isLoad = false\n          alert('修改成功')\n        })\n        .catch((errr) => {\n          this.isLoad = false\n          alert('修改失敗')\n        })\n    },\n    patchUserData () {\n      if (!this.formatVerify()) return\n      this.isLoad = true\n      const data = this.fromData\n      this.axios.patch(`${process.env.VUE_APP_API}users/updateProfile`, data)\n        .then(() => {\n          this.getUserData()\n          this.fromData.password = ''\n          this.fromData.confirmPassword = ''\n          this.isLoad = false\n        })\n        .catch(() => {\n          this.isLoad = false\n          alert('修改失敗')\n        })\n    },\n    getUserData () {\n      this.axios.get(`${process.env.VUE_APP_API}users/profile`)\n        .then((response) => {\n          this.$store.commit('setUserInfo', response.data.data.user)\n        })\n        .catch(() => {\n          alert('token過期，請先登入')\n        })\n    },\n    changeTabs (str) {\n      this.tabsState = str\n    },\n    fileReader () {\n      this.isLoad = true\n      if (this.$refs.fileInput.files[0].type !== 'image/jpeg' && this.$refs.fileInput.files[0].type !== 'image/png') {\n        alert('僅支援 jpg、png 檔，請重新上傳！')\n        this.isLoad = false\n        return\n      }\n      const formData = new FormData()\n      formData.append('file-to-upload', this.$refs.fileInput.files[0])\n      this.axios.post(`${process.env.VUE_APP_API}upload`, formData)\n        .then((response) => {\n          this.userUrl = response.data.imgUrl\n          this.fromData.image = response.data.imgUrl\n          this.patchUserData()\n          this.isLoad = false\n        })\n        .catch(() => {\n          alert('上傳失敗')\n        })\n    },\n    formatVerify (singUp) {\n      /* eslint-disable no-useless-escape */\n      /* eslint-disable no-unneeded-ternary */\n      const regExpPassword = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/\n      const error = []\n\n      for (const i in this.state) {\n        this.state[i] = false\n      }\n      if (this.fromData.name.length < 2) {\n        this.state.name = true\n        this.errorMessage.name = '暱稱至少 2 個字元以上'\n        error.push('name')\n      }\n      if (!regExpPassword.test(this.fromData.password) && singUp) {\n        this.errorMessage.password = '密碼需至少 8 碼以上，並中英混合'\n        this.state.password = true\n        error.push('signUpError')\n      }\n      if ((this.fromData.confirmPassword !== this.fromData.password || !this.fromData.confirmPassword) && singUp) {\n        this.errorMessage.confirmPassword = '與密碼不同'\n        this.state.confirmPassword = true\n        error.push('confirmPassword')\n      }\n      return error.length === 0\n    }\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0;\n}\n.font-customize-style {\n  font: normal normal normal 16px/24px Noto Sans TC;\n}\n.card {\n  border-radius: 8px;\n  border: 2px solid #2c3e50;\n}\n.input-icon {\n  width: 128px;\n}\n.user-img {\n  img {\n    height: 128px;\n    width: 128px;\n  }\n  border-radius:50%;\n  overflow: hidden;\n}\n.user-icon-label {\n  width: 128px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  text-align: center;\n  letter-spacing: 0px;\n  color: #FFFFFF;\n  background: #000400 0% 0% no-repeat padding-box;\n  border: 0;\n  font: normal normal normal 16px/24px Noto Sans TC;\n  input {\n    display: none;\n  }\n}\n.user-radio {\n  display: block;\n}\n.btn-customize {\n  padding: 20px 115px;\n}\n.row-button {\n  button {\n    background: #FFFFFF;\n    border: 0;\n  }\n  .active {\n    background: #7952b3;\n    color: #FFFFFF;\n  }\n}\n</style>\n","import { render } from \"./UserView.vue?vue&type=template&id=14984e0c&scoped=true\"\nimport script from \"./UserView.vue?vue&type=script&lang=js\"\nexport * from \"./UserView.vue?vue&type=script&lang=js\"\n\nimport \"./UserView.vue?vue&type=style&index=0&id=14984e0c&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\2022 node 直播班\\\\TrendBook\\\\TrendBook\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14984e0c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","$props","_createElementVNode","onClick","_ctx","go","props","tagText","String","isSinglePost","type","Boolean","default","data","methods","mounted","__exports__","render","src","alt","role","for","_createVNode","_component_TagView","$data","$options","_Fragment","key","image","ref","onInput","_hoisted_14","name","id","placeholder","$event","_toDisplayString","_hoisted_17","value","sex","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_22","auth","_hoisted_23","_hoisted_24","disabled","_hoisted_30","password","_hoisted_33","confirmPassword","onKeyup","components","TagView","isLoad","tabsState","userUrl","fromData","this","$store","state","userInfo","errorMessage","passWord","changeError","changePassword","formatVerify","axios","post","then","getUserData","alert","catch","errr","patchUserData","patch","get","response","commit","user","changeTabs","str","fileReader","$refs","fileInput","files","formData","FormData","append","imgUrl","singUp","regExpPassword","error","i","length","push","test"],"sourceRoot":""}
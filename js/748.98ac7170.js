"use strict";(self["webpackChunkTrendBook"]=self["webpackChunkTrendBook"]||[]).push([[748],{8384:function(t,e,s){s.d(e,{Z:function(){return k}});var a=s(6252),i=s(3577);const n=t=>((0,a.dD)("data-v-46454108"),t=t(),(0,a.Cn)(),t),l={class:"card p-4"},o=n((()=>(0,a._)("div",{class:"card-stand"},null,-1))),r={class:"font-customize-style mx-auto"},c={class:"card-stand-p mt-4 mb-2"};function d(t,e,s,n,d,g){return(0,a.wg)(),(0,a.iD)("div",l,[o,(0,a._)("div",r,[(0,a._)("p",c,(0,i.zw)(s.tagText),1)])])}var g={props:{tagText:String},data(){return{}},methods:{},mounted(){}},u=s(3744);const m=(0,u.Z)(g,[["render",d],["__scopeId","data-v-46454108"]]);var k=m},2048:function(t,e,s){s.d(e,{Z:function(){return g}});var a=s(6252),i=s(3577);const n={class:"d-flex mb-3"},l={key:0,class:"tag-block d-flex align-items-center me-3 bg-light"};function o(t,e,s,o,r,c){return(0,a.wg)(),(0,a.iD)("div",n,[s.isSinglePost?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("i",{onClick:e[0]||(e[0]=e=>t.$router.go(-1)),class:"bi bi-arrow-left-square icons-item ms-3 me-3"})])),(0,a._)("div",{class:(0,i.C_)(["tag-block d-flex align-items-center w-100 bg-light",s.isSinglePost?"justify-content-center":""])},[(0,a._)("h2",{class:(0,i.C_)(s.isSinglePost?"text-center":"ps-3")},(0,i.zw)(s.tagText),3)],2)])}var r={props:{tagText:String,isSinglePost:{type:Boolean,default:!0}},data(){return{}},methods:{},mounted(){}},c=s(3744);const d=(0,c.Z)(r,[["render",o],["__scopeId","data-v-39ef2338"]]);var g=d},9748:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});var a=s(6252),i=s(3577);const n=t=>((0,a.dD)("data-v-88a554c8"),t=t(),(0,a.Cn)(),t),l={class:"row justify-content-center"},o={class:"col-xl-8 col-md-12"},r={class:"content w-100 d-flex justify-content-between align-items-center"},c={class:"d-flex ms-3"},d=["src"],g={key:1,class:"mt-1",src:"https://upload.cc/i1/2022/05/31/dVpHNT.png",alt:""},u={class:"user ms-3"},m={class:"name"},k={class:"date mt-1"},p={class:"d-flex me-3"},f=["onClick"],h=n((()=>(0,a._)("i",{class:"bi bi-heart-fill icon ms-1"},null,-1))),_=n((()=>(0,a._)("p",{class:"text"},"取消",-1))),w=[h,_],v={class:"like-block ms-4"},x=n((()=>(0,a._)("i",{class:"bi bi-arrow-right-circle icon ms-1"},null,-1))),b=n((()=>(0,a._)("p",{class:"text"},"查看",-1)));function D(t,e,s,n,h,_){const D=(0,a.up)("TagView"),T=(0,a.up)("AlertView"),y=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",o,[(0,a.Wm)(D,{tagText:"我收藏的貼文"}),h.loading?((0,a.wg)(),(0,a.j4)(T,{key:0,tagText:"資料載入中..."},null,8,["tagText"])):(0,a.kq)("",!0),h.loading||h.allLikes.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(T,{key:1,tagText:"目前尚無收藏"})),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.allLikes,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"likes-block d-flex flex-column justify-content-center align-items-center bg-light mt-3",key:t._id},[(0,a._)("div",r,[(0,a._)("div",c,[(0,a.Wm)(y,{to:`/user/${t.user._id}`,href:"#"},{default:(0,a.w5)((()=>[t.user.image?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"mt-1",src:t.user.image,alt:""},null,8,d)):((0,a.wg)(),(0,a.iD)("img",g))])),_:2},1032,["to"]),(0,a._)("div",u,[(0,a.Wm)(y,{to:`/user/${t.user._id}`,href:"#"},{default:(0,a.w5)((()=>[(0,a._)("p",m,(0,i.zw)(t.user.name),1)])),_:2},1032,["to"]),(0,a._)("p",k,"發文時間 "+(0,i.zw)(_.formatDate(t.createdAt)),1)])]),(0,a._)("div",p,[(0,a._)("div",{class:"like-block ms-5",onClick:e=>_.clearLike(t)},w,8,f),(0,a._)("div",v,[(0,a.Wm)(y,{to:`/post/${t._id}`,href:"#"},{default:(0,a.w5)((()=>[x,b])),_:2},1032,["to"])])])])])))),128))])])}var T=s(2048),y=s(8384),L={components:{TagView:T.Z,AlertView:y.Z},data(){return{allLikes:[],loading:!1}},methods:{getUserLike(){this.loading=!0,this.axios.get("https://trend-book-api.herokuapp.com/users/getLikeList").then((t=>{this.allLikes=t.data.data,this.loading=!1})).catch((t=>{alert("token過期，請先登入"),console.log(t,"error")}))},clearLike(t){this.loading=!0,this.axios.delete(`https://trend-book-api.herokuapp.com/post/${t._id}/unlike`).then((()=>{this.getUserLike(),this.loading=!1})).catch((t=>{console.log(t,"post"),alert("收回失敗")}))},formatDate(t){const e=new Date,s=`${e.getFullYear(t)}-${e.getMonth(t)+1}-${e.getDate(t)} ${e.getHours(t)}:${e.getMinutes(t)}:${e.getSeconds(t)}`;return s}},mounted(){this.getUserLike()}},$=s(3744);const C=(0,$.Z)(L,[["render",D],["__scopeId","data-v-88a554c8"]]);var S=C}}]);
//# sourceMappingURL=748.98ac7170.js.map
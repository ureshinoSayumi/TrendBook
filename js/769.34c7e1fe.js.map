{"version":3,"file":"js/769.34c7e1fe.js","mappings":"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","sources":["webpack://TrendBook/./src/components/postsCardlView.vue","webpack://TrendBook/./src/components/postsCardlView.vue?ca34","webpack://TrendBook/./src/views/UserWillView.vue","webpack://TrendBook/./src/views/UserWillView.vue?fbca"],"sourcesContent":["<template>\n  <div>\n    <div class=\"lodingBlock\">\n      <div class=\"spinner-border mx-auto text-light\"\n        style=\"font-size: 0.5rem;\" role=\"status\" v-if=\"loading\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n    <template v-for=\"post in postData\">\n      <div class=\"card bg-light p-4 mb-3\" v-if=\"$store.state.userInfo\" :key=\"post._id\">\n        <div class=\"card-user d-flex\">\n          <div class=\"card-user-icon font-customize-style\">\n            <router-link :to=\"`/user/${post.user._id}`\" href=\"#\">\n              <img v-if=\"post.user.image\" :src=\"post.user.image\" alt=\"\">\n              <img v-else src=\"https://upload.cc/i1/2022/05/31/dVpHNT.png\" alt=\"\">\n            </router-link>\n          </div>\n          <div class=\"d-flex ms-3 mt-2\">\n            <p>{{ post.user.name }}</p>\n            <p class=\"card-user-date ms-3\">{{ formatDate(post.createdAt) }}</p>\n          </div>\n          <i class=\"bi bi-three-dots icons-item ms-auto\"\n            role=\"button\" id=\"dropdownMenuLink\"\n            data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\n            v-if=\"$store.state.userInfo._id === post.user._id ||\n              $store.state.userInfo.auth === '1'\">\n          </i>\n          <ul class=\"dropdown-menu dropstart\" aria-labelledby=\"dropdownMenuLink\">\n            <li>\n              <a class=\"dropdown-item\" href=\"#\" @click.prevent=\"deletePost(post)\">刪除貼文</a>\n            </li>\n          </ul>\n        </div>\n        <router-link :to=\"`/post/${post._id}`\" href=\"#\">\n          <div class=\"d-flex justify-content-between mt-3 hover\">\n            <div class=\"d-flex pe-2\">\n              <div>\n                <div class=\"d-flex\">\n                  <h3 class=\"font-customize-style fs-5\">[{{ post.type }}]</h3>\n                  <p class=\"font-customize-style fs-5 ps-2\">{{ post.title }}</p>\n                </div>\n                <div class=\"p-1 mt-3\">\n                  <p v-if=\"post.content.length > 50\" class=\"fw-light\">{{ post.content.substring(0, 50) }}...</p>\n                  <p v-else class=\"fw-light\">{{ post.content }}</p>\n                </div>\n              </div>\n            </div>\n            <img v-if=\"post.image\" :src=\"post.image\" alt=\"\">\n          </div>\n          <div class=\"d-flex mt-3\">\n            <i class=\"bi bi-heart-fill icons-heart\"></i>\n            <p class=\"ms-2\">{{ post.likes.length }}</p>\n            <i class=\"bi bi-chat-dots-fill icons-heart ms-4\"></i>\n            <p class=\"ms-2\">{{ post.comments.length }}</p>\n          </div>\n        </router-link>\n      </div>\n    </template>\n    <div class=\"lodingBlock mt-3\">\n      <div class=\"spinner-border mx-auto text-light\"\n        style=\"font-size: 0.5rem;\" role=\"status\" v-if=\"loading && postData.length\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    postData: {\n      type: Object,\n      default () { return {} }\n    },\n    loading: {\n      type: Boolean\n    }\n  },\n  emits: ['get-all-post'],\n  data () {\n    return {\n      propsLoading: false,\n      fromData: {\n        comment: null\n      },\n      isEdit: false\n    }\n  },\n  methods: {\n    getAllpost (sort, search) {\n      this.$emit('get-all-post', sort, search)\n    },\n    postComment (post) {\n      this.propsLoading = true\n      const data = this.fromData\n      this.axios.post(`${process.env.VUE_APP_API}posts/${post._id}/comment`, data)\n        .then(() => {\n          this.getAllpost()\n          this.fromData.comment = null\n          this.propsLoading = false\n        })\n        .catch(() => {\n          this.propsLoading = false\n          alert('傳送失敗')\n        })\n    },\n    setLike (post) {\n      const isLike = post.likes.find((item) => item.name === this.$store.state.userInfo.name)\n      if (isLike) {\n        this.clearLike(post)\n        return\n      }\n      this.propsLoading = true\n      this.axios.post(`${process.env.VUE_APP_API}post/${post._id}/like`)\n        .then(() => {\n          this.getAllpost()\n          this.propsLoading = false\n        })\n        .catch(() => {\n          this.propsLoading = false\n          alert('按讚失敗')\n        })\n    },\n    clearLike (post) {\n      this.propsLoading = true\n      this.axios.delete(`${process.env.VUE_APP_API}post/${post._id}/unlike`)\n        .then(() => {\n          this.getAllpost(this.filter, this.searchPost)\n          this.propsLoading = false\n        })\n        .catch(() => {\n          this.propsLoading = false\n          alert('收回失敗')\n        })\n    },\n    formatDate (str) {\n      const date = new Date(str)\n      const formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1)}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n      return formattedDate\n    },\n    deletePost (post) {\n      this.propsLoading = true\n      this.axios.delete(`${process.env.VUE_APP_API}posts/${post._id}`)\n        .then(() => {\n          this.getAllpost(this.filter, this.searchPost)\n          this.propsLoading = false\n        })\n        .catch(() => {\n          this.propsLoading = false\n          alert('刪除失敗')\n        })\n    },\n    deleteComment (comment) {\n      this.propsLoading = true\n      this.axios.delete(`${process.env.VUE_APP_API}posts/${comment._id}/comment`)\n        .then(() => {\n          this.getAllpost(this.filter, this.searchPost)\n          this.propsLoading = false\n        })\n        .catch(() => {\n          this.propsLoading = false\n          alert('刪除失敗')\n        })\n    },\n    updataComment (comment) {\n      const data = { comment: comment.comment }\n      this.isEdit = true\n      this.axios.patch(`${process.env.VUE_APP_API}posts/${comment._id}/comment`, data)\n        .then(() => {\n          this.getAllpost()\n          this.isEdit = false\n        })\n        .catch(() => {\n          this.isEdit = false\n          alert('傳送失敗')\n        })\n    },\n    editComment (comment) {\n      comment.isEdit = true\n    }\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.font-customize-style {\n  font: normal normal bold 16px/24px Noto Sans TC;\n}\n.hover:hover {\n  opacity: .5;\n  cursor: pointer;\n}\nimg {\n  overflow: hidden;\n  height: 100%;\n  width: 80px;\n}\np {\n  margin: 0;\n}\na {\n  text-decoration: none;\n  color: #000000;\n}\n.card {\n  border-radius: 8px;\n}\n.card-user-icon {\n  img {\n    border-radius: 50%;\n    overflow: hidden;\n    height: 40px;\n    width: 40px;\n  }\n}\n.card-user-date {\n  font-size: 13px;\n  color: #9B9893;\n}\n.icons-item {\n  font-size: 1.5rem;\n  color: #7952b3;\n}\n.icons-item:hover {\n  opacity: .5;\n  cursor: pointer;\n}\n.icons-heart {\n  font-size: 1.2rem;\n  color: #7952b3;\n}\n.lodingBlock {\n  display: flex;\n}\n</style>\n","import { render } from \"./postsCardlView.vue?vue&type=template&id=f4e207c8&scoped=true\"\nimport script from \"./postsCardlView.vue?vue&type=script&lang=js\"\nexport * from \"./postsCardlView.vue?vue&type=script&lang=js\"\n\nimport \"./postsCardlView.vue?vue&type=style&index=0&id=f4e207c8&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\2022 node 直播班\\\\TrendBook\\\\TrendBook\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f4e207c8\"]])\n\nexport default __exports__","<template>\n  <div class=\"row\">\n    <div class=\"col-xl-8 col-md-12\">\n      <div class=\"follow-block d-flex align-items-center bg-light mb-3\" v-if=\"user && $store.state.userInfo\">\n        <img v-if=\"user.image\" :src=\"user.image\" alt=\"\">\n        <img v-else src=\"https://upload.cc/i1/2022/05/31/dVpHNT.png\" alt=\"\">\n        <div class=\"follow-block-data ms-2 me-4\">\n          <h6 class=\"font-customize-style\">{{ user.name }}</h6>\n          <p class=\"mt-2\">{{ user.followers.length }}人追蹤</p>\n        </div>\n        <div v-if=\"user._id !== $store.state.userInfo._id\" class=\"ms-auto\">\n          <button v-if=\"isFollow === -1\" @click=\"follow\" class=\"btn btn-primary btn-customize me-3\" >\n            追蹤\n          </button>\n          <button v-else @click=\"unfollow\" class=\"btn btn-primary btn-customize me-3\" >\n            取消追蹤\n          </button>\n        </div>\n      </div>\n      <!-- 搜尋 -->\n      <div class=\"row\">\n        <div class=\"col-xl-6 col-md-12 mb-3\">\n          <select class=\"form-select\" aria-label=\"Default select example\"\n            v-model=\"filter\" @change=\"getPost(filter, searchPost)\">\n            <option value=\"\">最新貼文</option>\n            <option value=\"asc\">最舊貼文</option>\n          </select>\n        </div>\n        <div class=\"col-xl-6 col-md-12 mb-3\">\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control border-0 pt-2 pb-2\" placeholder=\"搜尋貼文\" aria-label=\"搜尋貼文\" aria-describedby=\"button-addon2\"\n              v-model=\"searchPost\" @keyup.enter=\"getPost(filter, searchPost)\">\n            <button class=\"border-0 text-light bg-primary\"\n              @click=\"getPost(filter, searchPost)\">\n              <i class=\"bi bi-search\" style=\"font-size: 1.7rem;\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      <AlertView\n        v-if=\"loading\"\n        :tagText=\"'資料載入中...'\"\n      >\n      </AlertView>\n      <AlertView\n        v-if=\"!loading && !allPost.length\"\n        :tagText=\"'目前尚無動態'\"\n      >\n      </AlertView>\n      <!-- 貼文牆 -->\n      <postsCardlView\n        :postData=\"allPost\"\n        :loading=\"loading\"\n        @get-all-post=\"getPost\"\n      >\n      </postsCardlView>\n    </div>\n    <div class=\"col\">\n      <ItemView\n        :modalTitle=\"'發表貼文'\"\n        @get-post-data=\"getPost\"\n      >\n      </ItemView>\n    </div>\n  </div>\n</template>\n<script>\nimport postsCardlView from '../components/postsCardlView.vue'\nimport ItemView from '../components/ItemView.vue'\nimport AlertView from '../components/AlertView.vue'\n\nexport default {\n  components: {\n    postsCardlView,\n    ItemView,\n    AlertView\n  },\n  data () {\n    return {\n      searchPost: '',\n      filter: '',\n      allPost: [],\n      loading: null,\n      user: null,\n      isFollow: false,\n      page: 2,\n      scrollEvent: null\n    }\n  },\n  methods: {\n    getPost (sort = '-createdAt', search = '', page = 1, scroll = false) {\n      if (this.loading) return\n      this.loading = true\n      const filter = {\n        sort: `?timeSort=${sort}`,\n        search: `&q=${search}`,\n        page: `&page=${page}`\n      }\n      this.axios.get(`${process.env.VUE_APP_API}post/user/${this.$route.params.id}${filter.sort}${filter.search}${filter.page}`)\n        .then((response) => {\n          if (scroll) {\n            if (!response.data.data.length) {\n              window.removeEventListener('scroll', this.scrollEvent)\n            }\n            this.page += 1\n            const temp = this.allPost.concat(response.data.data)\n            this.allPost = temp\n          } else {\n            this.allPost = response.data.data\n            this.page = 2\n          }\n          this.loading = false\n        })\n        .catch((error) => {\n          this.loading = false\n          console.log(error, 'getPost')\n        })\n    },\n    getUser () {\n      this.axios.get(`${process.env.VUE_APP_API}users/${this.$route.params.id}`)\n        .then((response) => {\n          this.user = response.data.data\n          this.isFollow = this.user.followers.findIndex(item => item.user._id === this.$store.state.userInfo._id)\n        })\n        .catch((error) => {\n          console.log(error, 'getUser')\n        })\n    },\n    follow () {\n      this.axios.post(`${process.env.VUE_APP_API}users/${this.$route.params.id}/follow`)\n        .then((response) => {\n          this.getPost()\n          this.getUser()\n          console.log(response, 'follow')\n        })\n        .catch((error) => {\n          console.log(error.response.data.message, 'follow')\n          alert(error.response.data.message)\n        })\n    },\n    unfollow () {\n      this.axios.delete(`${process.env.VUE_APP_API}users/${this.$route.params.id}/unfollow`)\n        .then(() => {\n          this.getPost()\n          this.getUser()\n        })\n        .catch((error) => {\n          console.log(error, 'unfollow')\n        })\n    },\n    buildThrottle () {\n      function throttle (fn, delay) {\n        let last = 0\n        return function (...args) {\n          const now = Date.now()\n          if (now - last > delay) {\n            last = now\n            fn.apply(this, args)\n          }\n        }\n      }\n      const throttleTask = throttle(this.getPost, 1000)\n      this.scrollEvent = () => {\n        const isBottom = window.scrollY + window.innerHeight >= document.body.offsetHeight - 100\n        if (isBottom) {\n          throttleTask(this.filter, this.searchPost, this.page, true)\n        }\n      }\n    },\n    buildScrollEvent () {\n      this.buildThrottle()\n      window.addEventListener('scroll', this.scrollEvent)\n    }\n  },\n  mounted () {\n    this.getPost()\n    this.getUser()\n    this.buildScrollEvent()\n  },\n  beforeUnmount () {\n    window.removeEventListener('scroll', this.scrollEvent)\n  },\n  watch: {\n    $route () {\n      if (this.$route.name === 'single-user') {\n        this.getPost()\n        this.getUser()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0;\n}\n.font-customize-style {\n  font: normal normal bold 16px/24px Noto Sans TC;\n}\n.form-select {\n  height: 40px;\n}\n.follow-block {\n  height: 80px;\n  border-radius: 8px;\n  img {\n    border-radius: 8px 0px 0px 8px;\n    // border-right: 2px solid black;\n    overflow: hidden;\n    height: 100%;\n    width: 80px;\n  }\n}\n.follow-block-data {\n  max-width: 260px;\n  padding: 16px 5px;\n}\n.btn-customize {\n  padding: 6px 32px;\n}\n</style>\n","import { render } from \"./UserWillView.vue?vue&type=template&id=c0805b60&scoped=true\"\nimport script from \"./UserWillView.vue?vue&type=script&lang=js\"\nexport * from \"./UserWillView.vue?vue&type=script&lang=js\"\n\nimport \"./UserWillView.vue?vue&type=style&index=0&id=c0805b60&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\2022 node 直播班\\\\TrendBook\\\\TrendBook\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c0805b60\"]])\n\nexport default __exports__"],"names":["class","style","role","_createElementVNode","_hoisted_3","src","alt","id","_hoisted_30","_createElementBlock","$props","_hoisted_4","_Fragment","_renderList","post","_ctx","state","userInfo","key","_id","_createVNode","_component_router_link","to","user","href","image","_toDisplayString","name","$options","createdAt","auth","onClick","_hoisted_13","type","title","content","length","substring","_hoisted_24","likes","_hoisted_26","comments","_hoisted_31","props","postData","Object","default","loading","Boolean","emits","data","propsLoading","fromData","comment","isEdit","methods","getAllpost","sort","search","this","$emit","postComment","axios","then","catch","alert","setLike","isLike","find","item","$store","clearLike","delete","filter","searchPost","formatDate","str","date","Date","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","deletePost","deleteComment","updataComment","patch","editComment","mounted","__exports__","render","value","_hoisted_12","_hoisted_17","$data","followers","$event","onChange","placeholder","onKeyup","_createBlock","_component_AlertView","tagText","_component_postsCardlView","onGetAllPost","_component_ItemView","modalTitle","onGetPostData","components","postsCardlView","ItemView","AlertView","allPost","isFollow","page","scrollEvent","getPost","scroll","get","$route","params","response","window","removeEventListener","temp","concat","error","console","log","getUser","findIndex","follow","message","unfollow","buildThrottle","throttle","fn","delay","last","args","now","apply","throttleTask","isBottom","scrollY","innerHeight","document","body","offsetHeight","buildScrollEvent","addEventListener","beforeUnmount","watch"],"sourceRoot":""}